<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Export Tracker - Solar House</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            solar: '#F59E0B',
            'grid-import': '#EF4444',
            'grid-export': '#10B981',
            consumption: '#3B82F6',
            background: '#0F172A',
            surface: '#1E293B',
            'text-primary': '#F8FAFC',
            'text-secondary': '#94A3B8',
          }
        }
      }
    }
  </script>
  <style>
    body {
      background-color: #0F172A;
      color: #F8FAFC;
      font-family: system-ui, -apple-system, sans-serif;
      min-height: 100vh;
      padding-bottom: 80px;
    }

    /* Circular progress animation */
    .progress-ring {
      transform: rotate(-90deg);
      transform-origin: 50% 50%;
    }

    .progress-ring-circle {
      transition: stroke-dashoffset 0.5s ease-out;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="sticky top-0 z-50 bg-surface/95 backdrop-blur border-b border-slate-700 px-4 py-3">
    <div class="flex items-center justify-between">
      <h1 class="text-lg font-semibold">Export Tracker</h1>
      <div class="flex items-center gap-2">
        <span class="text-sm text-text-secondary">2026</span>
        <svg class="w-4 h-4 text-text-secondary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M6 9l6 6 6-6"/>
        </svg>
      </div>
    </div>
  </header>

  <main class="px-4 py-4 space-y-4 max-w-lg mx-auto">

    <!-- Tax Limit Info -->
    <div class="bg-grid-export/10 border border-grid-export/30 rounded-xl p-3 flex items-start gap-3">
      <svg class="w-5 h-5 text-grid-export flex-shrink-0 mt-0.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <path d="M12 16v-4M12 8h.01"/>
      </svg>
      <div class="text-sm">
        <span class="text-grid-export font-medium">€400 Tax Exemption</span>
        <span class="text-text-secondary"> - Export earnings below this limit are tax-free for the calendar year (Jan-Dec).</span>
      </div>
    </div>

    <!-- Main Progress Circle -->
    <div class="bg-surface rounded-2xl p-6">
      <div class="flex justify-center">
        <div class="relative w-56 h-56">
          <!-- SVG Circular Progress -->
          <svg class="w-full h-full progress-ring" viewBox="0 0 200 200">
            <!-- Background circle -->
            <circle
              cx="100"
              cy="100"
              r="85"
              fill="none"
              stroke="#334155"
              stroke-width="12"
            />
            <!-- Warning zone (80-100%) -->
            <circle
              cx="100"
              cy="100"
              r="85"
              fill="none"
              stroke="#F59E0B"
              stroke-width="12"
              stroke-dasharray="534"
              stroke-dashoffset="107"
              opacity="0.3"
            />
            <!-- Progress circle -->
            <circle
              cx="100"
              cy="100"
              r="85"
              fill="none"
              stroke="#10B981"
              stroke-width="12"
              stroke-linecap="round"
              stroke-dasharray="534"
              stroke-dashoffset="214"
              class="progress-ring-circle"
            />
          </svg>

          <!-- Center content -->
          <div class="absolute inset-0 flex flex-col items-center justify-center">
            <div class="text-4xl font-bold text-grid-export">€241</div>
            <div class="text-text-secondary text-sm">of €400</div>
            <div class="text-2xl font-semibold mt-2">60%</div>
          </div>
        </div>
      </div>

      <!-- Status and Remaining -->
      <div class="mt-6 grid grid-cols-2 gap-4">
        <div class="bg-background rounded-xl p-4 text-center">
          <div class="text-2xl font-bold text-text-primary">€159</div>
          <div class="text-xs text-text-secondary">Tax-free remaining</div>
        </div>
        <div class="bg-background rounded-xl p-4 text-center">
          <div class="text-2xl font-bold text-text-primary">2,410</div>
          <div class="text-xs text-text-secondary">kWh exported YTD</div>
        </div>
      </div>
    </div>

    <!-- Threshold Alerts -->
    <div class="bg-surface rounded-2xl p-4">
      <h2 class="text-sm font-medium text-text-secondary mb-3">Alert Thresholds</h2>

      <div class="space-y-3">
        <!-- 80% threshold - completed -->
        <div class="flex items-center justify-between p-3 bg-background rounded-xl opacity-60">
          <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-solar/20 flex items-center justify-center">
              <svg class="w-4 h-4 text-solar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 6L9 17l-5-5"/>
              </svg>
            </div>
            <div>
              <div class="font-medium">80% Warning</div>
              <div class="text-xs text-text-secondary">€320 reached</div>
            </div>
          </div>
          <span class="text-xs text-text-secondary">Passed</span>
        </div>

        <!-- 90% threshold - next -->
        <div class="flex items-center justify-between p-3 bg-background rounded-xl border border-solar">
          <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-solar/20 flex items-center justify-center">
              <svg class="w-4 h-4 text-solar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 9v4M12 17h.01"/>
              </svg>
            </div>
            <div>
              <div class="font-medium">90% Alert</div>
              <div class="text-xs text-text-secondary">€360 (€119 to go)</div>
            </div>
          </div>
          <span class="text-xs text-solar font-medium">Next</span>
        </div>

        <!-- 100% threshold -->
        <div class="flex items-center justify-between p-3 bg-background rounded-xl">
          <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-grid-import/20 flex items-center justify-center">
              <svg class="w-4 h-4 text-grid-import" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                <line x1="12" y1="9" x2="12" y2="13"/>
                <line x1="12" y1="17" x2="12.01" y2="17"/>
              </svg>
            </div>
            <div>
              <div class="font-medium">Limit Reached</div>
              <div class="text-xs text-text-secondary">€400 - Tax applies after</div>
            </div>
          </div>
          <span class="text-xs text-text-secondary">€159 to go</span>
        </div>
      </div>
    </div>

    <!-- Monthly Breakdown -->
    <div class="bg-surface rounded-2xl p-4">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-sm font-medium text-text-secondary">Monthly Breakdown</h2>
        <span class="text-xs text-text-secondary">2026</span>
      </div>

      <!-- Bar chart -->
      <div class="space-y-2">
        <div class="flex items-center gap-3">
          <span class="w-8 text-xs text-text-secondary">Jan</span>
          <div class="flex-1 h-6 bg-background rounded-full overflow-hidden">
            <div class="h-full bg-grid-export rounded-full flex items-center justify-end pr-2" style="width: 35%">
              <span class="text-xs font-medium">€35</span>
            </div>
          </div>
        </div>

        <div class="flex items-center gap-3">
          <span class="w-8 text-xs text-text-secondary">Feb</span>
          <div class="flex-1 h-6 bg-background rounded-full overflow-hidden">
            <div class="h-full bg-grid-export rounded-full flex items-center justify-end pr-2" style="width: 42%">
              <span class="text-xs font-medium">€42</span>
            </div>
          </div>
        </div>

        <div class="flex items-center gap-3">
          <span class="w-8 text-xs text-text-secondary">Mar</span>
          <div class="flex-1 h-6 bg-background rounded-full overflow-hidden">
            <div class="h-full bg-grid-export rounded-full flex items-center justify-end pr-2" style="width: 58%">
              <span class="text-xs font-medium">€58</span>
            </div>
          </div>
        </div>

        <div class="flex items-center gap-3">
          <span class="w-8 text-xs text-text-secondary">Apr</span>
          <div class="flex-1 h-6 bg-background rounded-full overflow-hidden">
            <div class="h-full bg-grid-export rounded-full flex items-center justify-end pr-2" style="width: 65%">
              <span class="text-xs font-medium">€65</span>
            </div>
          </div>
        </div>

        <div class="flex items-center gap-3">
          <span class="w-8 text-xs text-text-secondary">May</span>
          <div class="flex-1 h-6 bg-background rounded-full overflow-hidden">
            <div class="h-full bg-grid-export rounded-full flex items-center justify-end pr-2" style="width: 41%">
              <span class="text-xs font-medium">€41</span>
            </div>
          </div>
        </div>

        <!-- Future months (projected) -->
        <div class="flex items-center gap-3 opacity-50">
          <span class="w-8 text-xs text-text-secondary">Jun</span>
          <div class="flex-1 h-6 bg-background rounded-full overflow-hidden">
            <div class="h-full bg-grid-export/50 rounded-full border border-dashed border-grid-export flex items-center justify-end pr-2" style="width: 55%">
              <span class="text-xs font-medium">~€55</span>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-3 pt-3 border-t border-slate-700 flex items-center gap-2 text-xs text-text-secondary">
        <div class="w-3 h-3 rounded-full bg-grid-export/50 border border-dashed border-grid-export"></div>
        <span>Projected based on last year</span>
      </div>
    </div>

    <!-- Projection Card -->
    <div class="bg-surface rounded-2xl p-4">
      <h2 class="text-sm font-medium text-text-secondary mb-3">Year-End Projection</h2>

      <div class="bg-background rounded-xl p-4">
        <div class="flex items-center justify-between mb-3">
          <span class="text-text-secondary">Projected total</span>
          <span class="text-xl font-bold">€482</span>
        </div>

        <div class="space-y-2">
          <div class="flex items-center justify-between text-sm">
            <span class="text-text-secondary">Tax-free (first €400)</span>
            <span class="text-grid-export font-medium">€400</span>
          </div>
          <div class="flex items-center justify-between text-sm">
            <span class="text-text-secondary">Taxable amount</span>
            <span class="text-solar font-medium">€82</span>
          </div>
          <div class="pt-2 border-t border-slate-700 flex items-center justify-between text-sm">
            <span class="text-text-secondary">Est. tax (20%)</span>
            <span class="text-grid-import font-medium">€16</span>
          </div>
        </div>
      </div>

      <p class="text-xs text-text-secondary mt-3">
        Based on your current export rate, you'll exceed the €400 limit around October. Consider diverting more to hot water or EV charging.
      </p>
    </div>

    <!-- Strategy Recommendation -->
    <div class="bg-surface rounded-2xl p-4">
      <div class="flex items-center gap-2 mb-3">
        <svg class="w-5 h-5 text-solar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
        </svg>
        <h2 class="text-sm font-medium text-text-secondary">Strategy</h2>
      </div>

      <div class="space-y-3">
        <div class="flex items-start gap-3 p-3 bg-background rounded-xl">
          <div class="w-6 h-6 rounded-full bg-grid-export/20 flex items-center justify-center flex-shrink-0 mt-0.5">
            <span class="text-grid-export text-xs font-bold">1</span>
          </div>
          <div>
            <div class="font-medium text-sm">Maximize tax-free exports</div>
            <div class="text-xs text-text-secondary">You have €159 of tax-free exports remaining this year</div>
          </div>
        </div>

        <div class="flex items-start gap-3 p-3 bg-background rounded-xl">
          <div class="w-6 h-6 rounded-full bg-solar/20 flex items-center justify-center flex-shrink-0 mt-0.5">
            <span class="text-solar text-xs font-bold">2</span>
          </div>
          <div>
            <div class="font-medium text-sm">Consider diversion strategy</div>
            <div class="text-xs text-text-secondary">When approaching limit, divert more to Eddi (hot water) or EV charging</div>
          </div>
        </div>

        <div class="flex items-start gap-3 p-3 bg-background rounded-xl">
          <div class="w-6 h-6 rounded-full bg-consumption/20 flex items-center justify-center flex-shrink-0 mt-0.5">
            <span class="text-consumption text-xs font-bold">3</span>
          </div>
          <div>
            <div class="font-medium text-sm">Track monthly progress</div>
            <div class="text-xs text-text-secondary">Monitor to avoid unexpected tax liability</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Historical Years -->
    <div class="bg-surface rounded-2xl p-4">
      <h2 class="text-sm font-medium text-text-secondary mb-3">Previous Years</h2>

      <div class="space-y-2">
        <div class="flex items-center justify-between p-3 bg-background rounded-xl">
          <div>
            <div class="font-medium">2025</div>
            <div class="text-xs text-text-secondary">4,150 kWh exported</div>
          </div>
          <div class="text-right">
            <div class="font-semibold text-grid-export">€415</div>
            <div class="text-xs text-text-secondary">€15 taxable</div>
          </div>
        </div>

        <div class="flex items-center justify-between p-3 bg-background rounded-xl">
          <div>
            <div class="font-medium">2024</div>
            <div class="text-xs text-text-secondary">3,280 kWh exported</div>
          </div>
          <div class="text-right">
            <div class="font-semibold text-grid-export">€328</div>
            <div class="text-xs text-text-secondary">Tax-free</div>
          </div>
        </div>
      </div>
    </div>

  </main>

  <!-- Bottom Navigation -->
  <nav class="fixed bottom-0 left-0 right-0 h-16 bg-surface border-t border-slate-700 flex items-center justify-around px-2 z-50">
    <a href="01-dashboard.html" class="flex flex-col items-center gap-1 px-3 py-2 text-text-secondary hover:text-text-primary">
      <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="3" width="7" height="9" rx="1"/>
        <rect x="14" y="3" width="7" height="5" rx="1"/>
        <rect x="14" y="12" width="7" height="9" rx="1"/>
        <rect x="3" y="16" width="7" height="5" rx="1"/>
      </svg>
      <span class="text-xs">Dashboard</span>
    </a>

    <a href="02-charts.html" class="flex flex-col items-center gap-1 px-3 py-2 text-text-secondary hover:text-text-primary">
      <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 3v18h18"/>
        <path d="M18 9l-5 5-4-4-3 3"/>
      </svg>
      <span class="text-xs">Charts</span>
    </a>

    <a href="03-tariffs.html" class="flex flex-col items-center gap-1 px-3 py-2 text-text-secondary hover:text-text-primary">
      <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="2" y="4" width="20" height="16" rx="2"/>
        <path d="M12 8v8M8 12h8"/>
      </svg>
      <span class="text-xs">Tariffs</span>
    </a>

    <a href="04-compare.html" class="flex flex-col items-center gap-1 px-3 py-2 text-text-secondary hover:text-text-primary">
      <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M9 3H5a2 2 0 0 0-2 2v4"/>
        <path d="M15 3h4a2 2 0 0 1 2 2v4"/>
        <path d="M9 21H5a2 2 0 0 1-2-2v-4"/>
        <path d="M15 21h4a2 2 0 0 0 2-2v-4"/>
        <path d="M12 7v10"/>
      </svg>
      <span class="text-xs">Compare</span>
    </a>

    <a href="05-export.html" class="flex flex-col items-center gap-1 px-3 py-2 text-solar">
      <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <path d="M12 6v6l4 2"/>
      </svg>
      <span class="text-xs font-medium">Export</span>
    </a>
  </nav>

</body>
</html>
