<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gas vs Immersion - Solar House</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            solar: '#F59E0B',
            'grid-import': '#EF4444',
            'grid-export': '#10B981',
            consumption: '#3B82F6',
            background: '#0F172A',
            surface: '#1E293B',
            'text-primary': '#F8FAFC',
            'text-secondary': '#94A3B8',
            gas: '#F97316',
            immersion: '#EC4899',
          }
        }
      }
    }
  </script>
  <style>
    body {
      background-color: #0F172A;
      color: #F8FAFC;
      font-family: system-ui, -apple-system, sans-serif;
      min-height: 100vh;
      padding-bottom: 80px;
    }

    input, select {
      background-color: #0F172A;
      border: 1px solid #334155;
      color: #F8FAFC;
    }

    input:focus, select:focus {
      outline: none;
      border-color: #F59E0B;
      box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.2);
    }

    input[type="range"] {
      -webkit-appearance: none;
      appearance: none;
      background: transparent;
    }

    input[type="range"]::-webkit-slider-track {
      background: #334155;
      height: 8px;
      border-radius: 4px;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      background: #F59E0B;
      border-radius: 50%;
      cursor: pointer;
      margin-top: -6px;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="sticky top-0 z-50 bg-surface/95 backdrop-blur border-b border-slate-700 px-4 py-3">
    <div class="flex items-center justify-between">
      <div class="flex items-center gap-3">
        <button class="p-1 text-text-secondary">
          <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M15 18l-6-6 6-6"/>
          </svg>
        </button>
        <h1 class="text-lg font-semibold">Gas vs Immersion</h1>
      </div>
    </div>
  </header>

  <main class="px-4 py-4 space-y-4 max-w-lg mx-auto">

    <!-- Context Info -->
    <div class="bg-consumption/10 border border-consumption/30 rounded-xl p-3 flex items-start gap-3">
      <svg class="w-5 h-5 text-consumption flex-shrink-0 mt-0.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <path d="M12 16v-4M12 8h.01"/>
      </svg>
      <div class="text-sm text-text-secondary">
        Compare the cost of heating water with <span class="text-gas font-medium">gas</span> vs using your <span class="text-immersion font-medium">Eddi immersion</span> (solar diversion + boost).
      </div>
    </div>

    <!-- Recommendation Card -->
    <div class="bg-surface rounded-2xl p-4 border-2 border-grid-export">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-8 h-8 rounded-full bg-grid-export/20 flex items-center justify-center">
          <svg class="w-4 h-4 text-grid-export" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 6L9 17l-5-5"/>
          </svg>
        </div>
        <span class="font-semibold text-grid-export">Immersion is Cheaper</span>
      </div>

      <div class="grid grid-cols-2 gap-4 mb-4">
        <div class="bg-background rounded-xl p-3 text-center">
          <div class="text-xs text-text-secondary mb-1">Gas Hot Water</div>
          <div class="text-2xl font-bold text-gas">€42</div>
          <div class="text-xs text-text-secondary">/month</div>
        </div>
        <div class="bg-background rounded-xl p-3 text-center border border-grid-export">
          <div class="text-xs text-text-secondary mb-1">Immersion</div>
          <div class="text-2xl font-bold text-immersion">€18</div>
          <div class="text-xs text-text-secondary">/month</div>
        </div>
      </div>

      <div class="bg-grid-export/10 rounded-lg p-3 text-center">
        <span class="text-grid-export font-semibold text-lg">Save €24/month</span>
        <span class="text-text-secondary text-sm"> (€288/year)</span>
      </div>
    </div>

    <!-- Eddi Data (From API) -->
    <div class="bg-surface rounded-2xl p-4">
      <div class="flex items-center justify-between mb-3">
        <h2 class="text-sm font-medium text-text-secondary">Eddi Usage (Last 30 days)</h2>
        <span class="px-2 py-0.5 bg-immersion/20 text-immersion text-xs rounded-full">Live data</span>
      </div>

      <div class="grid grid-cols-2 gap-3">
        <div class="bg-background rounded-xl p-3">
          <div class="flex items-center gap-2 mb-1">
            <div class="w-2 h-2 rounded-full bg-solar"></div>
            <span class="text-xs text-text-secondary">Solar Diverted</span>
          </div>
          <div class="text-xl font-semibold">127 kWh</div>
          <div class="text-xs text-solar">Free energy</div>
        </div>

        <div class="bg-background rounded-xl p-3">
          <div class="flex items-center gap-2 mb-1">
            <div class="w-2 h-2 rounded-full bg-grid-import"></div>
            <span class="text-xs text-text-secondary">Grid Boosted</span>
          </div>
          <div class="text-xl font-semibold">45 kWh</div>
          <div class="text-xs text-grid-import">€18.42 cost</div>
        </div>
      </div>

      <div class="mt-3 pt-3 border-t border-slate-700">
        <div class="flex items-center justify-between">
          <span class="text-text-secondary text-sm">Total hot water energy</span>
          <span class="font-semibold">172 kWh</span>
        </div>
        <div class="flex items-center justify-between mt-1">
          <span class="text-text-secondary text-sm">Solar percentage</span>
          <span class="font-semibold text-solar">74%</span>
        </div>
      </div>
    </div>

    <!-- Gas Configuration -->
    <div class="bg-surface rounded-2xl p-4">
      <div class="flex items-center justify-between mb-3">
        <h2 class="text-sm font-medium text-text-secondary">Gas Configuration</h2>
        <button class="text-solar text-sm">Edit</button>
      </div>

      <div class="space-y-4">
        <!-- Gas Rate -->
        <div>
          <div class="flex items-center justify-between mb-2">
            <label class="text-sm">Gas Rate</label>
            <span class="text-sm font-medium">€0.0823/kWh</span>
          </div>
          <input
            type="number"
            value="0.0823"
            step="0.0001"
            class="w-full px-3 py-2 rounded-lg text-sm"
          />
        </div>

        <!-- Hot Water Percentage -->
        <div>
          <div class="flex items-center justify-between mb-2">
            <label class="text-sm">Hot Water % of Gas Bill</label>
            <span class="text-sm font-medium">30%</span>
          </div>
          <input type="range" min="10" max="60" value="30" class="w-full"/>
          <div class="flex justify-between text-xs text-text-secondary mt-1">
            <span>10%</span>
            <span>60%</span>
          </div>
          <p class="text-xs text-text-secondary mt-2">
            Estimate how much of your gas usage is for hot water (rest is heating)
          </p>
        </div>

        <!-- Boiler Efficiency -->
        <div>
          <div class="flex items-center justify-between mb-2">
            <label class="text-sm">Boiler Efficiency</label>
            <span class="text-sm font-medium">85%</span>
          </div>
          <input type="range" min="70" max="98" value="85" class="w-full"/>
          <div class="flex justify-between text-xs text-text-secondary mt-1">
            <span>70% (old)</span>
            <span>98% (new)</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Electricity Rates Used -->
    <div class="bg-surface rounded-2xl p-4">
      <div class="flex items-center justify-between mb-3">
        <h2 class="text-sm font-medium text-text-secondary">Electricity Rates</h2>
        <a href="03-tariffs.html" class="text-solar text-sm">View Tariff</a>
      </div>

      <div class="space-y-2">
        <div class="flex items-center justify-between py-2 border-b border-slate-700">
          <span class="text-sm">Day Rate (08:00-23:00)</span>
          <span class="font-medium">€0.4383/kWh</span>
        </div>
        <div class="flex items-center justify-between py-2 border-b border-slate-700">
          <span class="text-sm">Night Rate (23:00-08:00)</span>
          <span class="font-medium">€0.2341/kWh</span>
        </div>
        <div class="flex items-center justify-between py-2">
          <span class="text-sm text-text-secondary">Average boost rate</span>
          <span class="font-medium">€0.4093/kWh</span>
        </div>
      </div>
    </div>

    <!-- Cost Breakdown -->
    <div class="bg-surface rounded-2xl p-4">
      <h2 class="text-sm font-medium text-text-secondary mb-4">Monthly Cost Breakdown</h2>

      <!-- Gas calculation -->
      <div class="bg-gas/10 rounded-xl p-4 mb-3">
        <div class="flex items-center gap-2 mb-3">
          <svg class="w-5 h-5 text-gas" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2c.5 3.5 3 6 3 9a5 5 0 11-10 0c0-3 2.5-5.5 3-9l2 2 2-2z"/>
          </svg>
          <span class="font-medium text-gas">Gas Hot Water</span>
        </div>

        <div class="space-y-2 text-sm">
          <div class="flex justify-between">
            <span class="text-text-secondary">Energy needed (172 kWh ÷ 85%)</span>
            <span>202 kWh</span>
          </div>
          <div class="flex justify-between">
            <span class="text-text-secondary">Gas rate</span>
            <span>€0.0823/kWh</span>
          </div>
          <div class="flex justify-between">
            <span class="text-text-secondary">Standing charge (30% of €0.19/day)</span>
            <span>€1.71</span>
          </div>
          <div class="pt-2 mt-2 border-t border-gas/30 flex justify-between font-semibold">
            <span>Total</span>
            <span class="text-gas">€18.35 + €1.71 = €42</span>
          </div>
        </div>
      </div>

      <!-- Immersion calculation -->
      <div class="bg-immersion/10 rounded-xl p-4">
        <div class="flex items-center gap-2 mb-3">
          <svg class="w-5 h-5 text-immersion" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
          </svg>
          <span class="font-medium text-immersion">Eddi Immersion</span>
        </div>

        <div class="space-y-2 text-sm">
          <div class="flex justify-between">
            <span class="text-text-secondary">Solar diverted (free)</span>
            <span class="text-solar">127 kWh = €0</span>
          </div>
          <div class="flex justify-between">
            <span class="text-text-secondary">Grid boost (45 kWh × €0.4093)</span>
            <span>€18.42</span>
          </div>
          <div class="pt-2 mt-2 border-t border-immersion/30 flex justify-between font-semibold">
            <span>Total</span>
            <span class="text-immersion">€18</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Seasonal Comparison -->
    <div class="bg-surface rounded-2xl p-4">
      <h2 class="text-sm font-medium text-text-secondary mb-3">Seasonal Impact</h2>

      <div class="space-y-3">
        <div class="flex items-center justify-between p-3 bg-background rounded-xl">
          <div>
            <div class="font-medium">Summer</div>
            <div class="text-xs text-text-secondary">More solar, less boost</div>
          </div>
          <div class="text-right">
            <div class="text-sm text-grid-export font-medium">Immersion saves €35/mo</div>
            <div class="text-xs text-solar">~90% solar</div>
          </div>
        </div>

        <div class="flex items-center justify-between p-3 bg-background rounded-xl">
          <div>
            <div class="font-medium">Winter</div>
            <div class="text-xs text-text-secondary">Less solar, more boost</div>
          </div>
          <div class="text-right">
            <div class="text-sm text-solar font-medium">Immersion saves €8/mo</div>
            <div class="text-xs text-text-secondary">~40% solar</div>
          </div>
        </div>

        <div class="flex items-center justify-between p-3 bg-grid-export/10 rounded-xl border border-grid-export/30">
          <div>
            <div class="font-medium">Annual Total</div>
            <div class="text-xs text-text-secondary">All seasons combined</div>
          </div>
          <div class="text-right">
            <div class="text-lg text-grid-export font-bold">Save €288/year</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Important Notes -->
    <div class="bg-surface rounded-2xl p-4">
      <h2 class="text-sm font-medium text-text-secondary mb-3">Notes</h2>

      <div class="space-y-3 text-sm text-text-secondary">
        <div class="flex items-start gap-2">
          <span class="text-solar">•</span>
          <span>Hot water percentage is an estimate. For accuracy, monitor gas usage over a summer month (no heating).</span>
        </div>
        <div class="flex items-start gap-2">
          <span class="text-solar">•</span>
          <span>Immersion savings depend heavily on solar generation. Winter months may see reduced benefit.</span>
        </div>
        <div class="flex items-start gap-2">
          <span class="text-solar">•</span>
          <span>Consider running Eddi boost during night rate (€0.23/kWh) instead of day rate when needed.</span>
        </div>
      </div>
    </div>

  </main>

  <!-- Bottom Navigation -->
  <nav class="fixed bottom-0 left-0 right-0 h-16 bg-surface border-t border-slate-700 flex items-center justify-around px-2 z-50">
    <a href="01-dashboard.html" class="flex flex-col items-center gap-1 px-3 py-2 text-text-secondary hover:text-text-primary">
      <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="3" width="7" height="9" rx="1"/>
        <rect x="14" y="3" width="7" height="5" rx="1"/>
        <rect x="14" y="12" width="7" height="9" rx="1"/>
        <rect x="3" y="16" width="7" height="5" rx="1"/>
      </svg>
      <span class="text-xs">Dashboard</span>
    </a>

    <a href="02-charts.html" class="flex flex-col items-center gap-1 px-3 py-2 text-text-secondary hover:text-text-primary">
      <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 3v18h18"/>
        <path d="M18 9l-5 5-4-4-3 3"/>
      </svg>
      <span class="text-xs">Charts</span>
    </a>

    <a href="03-tariffs.html" class="flex flex-col items-center gap-1 px-3 py-2 text-text-secondary hover:text-text-primary">
      <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="2" y="4" width="20" height="16" rx="2"/>
        <path d="M12 8v8M8 12h8"/>
      </svg>
      <span class="text-xs">Tariffs</span>
    </a>

    <a href="04-compare.html" class="flex flex-col items-center gap-1 px-3 py-2 text-text-secondary hover:text-text-primary">
      <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M9 3H5a2 2 0 0 0-2 2v4"/>
        <path d="M15 3h4a2 2 0 0 1 2 2v4"/>
        <path d="M9 21H5a2 2 0 0 1-2-2v-4"/>
        <path d="M15 21h4a2 2 0 0 0 2-2v-4"/>
        <path d="M12 7v10"/>
      </svg>
      <span class="text-xs">Compare</span>
    </a>

    <a href="06-gas-vs-immersion.html" class="flex flex-col items-center gap-1 px-3 py-2 text-solar">
      <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 2c.5 3.5 3 6 3 9a5 5 0 11-10 0c0-3 2.5-5.5 3-9l2 2 2-2z"/>
      </svg>
      <span class="text-xs font-medium">Gas/Imm</span>
    </a>
  </nav>

</body>
</html>
